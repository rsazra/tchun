<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>more tchun</title>
    <link href="/reset.css" rel="stylesheet" type="text/css" media="all">
    <link href="/style.css" rel="stylesheet" type="text/css" media="all">
    <link id="theme" href="/themes/ciel.css" rel="stylesheet" type="text/css" media="all">
  </head>
  <body>
    <div id="site">
      <div id="header"><a href="/"><img id="header-image" src="/images/ciel.webp"></a></div>
      <br>
      <div id="nav">
        <a href="main">main</a>
        <a href="micro">micro</a>
        <a href="more">more</a>
      </div>
      ----------------------------------------------------------------
      <div id="content">
Click a theme below to switch to it.
- <span class="theme-name" data-header="/images/chlorophyll.webp">chlorophyll</span>
- <span class="theme-name" data-header="/images/ciel.webp">ciel</span>
      </div>
    </div>
    <script>
      const storedTheme = localStorage.getItem("theme");
      if (storedTheme) {
        document.querySelector('#theme').setAttribute('href', `/themes/${storedTheme}.css`);
      }
      const storedImg = localStorage.getItem("header");
      if (storedImg) {
        document.querySelector('#header-image').setAttribute('src', storedImg)
      }
    // ABOVE FOR GETTING THEME
      const themes = document.querySelectorAll('.theme-name');

      themes.forEach(th => th.addEventListener('click', event => {
        console.log(th)
        localStorage.setItem("theme", th.innerText)
        document.querySelector('#theme').setAttribute('href', `/themes/${th.innerText}.css`);
        localStorage.setItem("header", th.dataset.header)
        document.querySelector('#header-image').setAttribute('src', th.dataset.header)
      }));
    // AND ABOVE FOR CHANGING IT
    </script>
  </body>
</html>
